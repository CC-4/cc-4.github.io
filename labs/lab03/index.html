



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Recursive Descent Parser">
      
      
        <link rel="canonical" href="https://cc-4.github.io/labs/lab03/">
      
      
        <meta name="author" content="CC-4">
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>3: RDP - Compiladores</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/emoji.css">
    
      <link rel="stylesheet" href="../../stylesheets/kbd.css">
    
      <link rel="stylesheet" href="../../stylesheets/button.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lab-3-40rdp41" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://cc-4.github.io/" title="Compiladores" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Compiladores
              </span>
              <span class="md-header-nav__topic">
                3: RDP
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cc-4/cc-4.github.io/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cc-4/cc-4.github.io
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://cc-4.github.io/" title="Compiladores" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Compiladores
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cc-4/cc-4.github.io/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cc-4/cc-4.github.io
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Inicio" class="md-nav__link">
      Inicio
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Laboratorios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Laboratorios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab00/" title="0: Java" class="md-nav__link">
      0: Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab01/" title="1: COOL" class="md-nav__link">
      1: COOL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab02/" title="2: jLex" class="md-nav__link">
      2: jLex
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        3: RDP
      </label>
    
    <a href="./" title="3: RDP" class="md-nav__link md-nav__link--active">
      3: RDP
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduccion" title="1. Introducción" class="md-nav__link">
    1. Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-gramatica" title="2. Gramática" class="md-nav__link">
    2. Gramática
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-lexer" title="3. Lexer" class="md-nav__link">
    3. Lexer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-clase-token" title="3.1 Clase Token" class="md-nav__link">
    3.1 Clase Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-parser" title="4. Parser" class="md-nav__link">
    4. Parser
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-clase-parser" title="4.1 Clase Parser" class="md-nav__link">
    4.1 Clase Parser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-shunting-yard-algorithm" title="4.2 Shunting Yard Algorithm" class="md-nav__link">
    4.2 Shunting Yard Algorithm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-precedencia" title="4.3 Precedencia" class="md-nav__link">
    4.3 Precedencia
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab04/" title="4: cup" class="md-nav__link">
      4: cup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab05/" title="5: SymbolTable" class="md-nav__link">
      5: SymbolTable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab06/" title="6: Semantic 1" class="md-nav__link">
      6: Semantic 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab07/" title="7: Semantic 2" class="md-nav__link">
      7: Semantic 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab08/" title="8: RISC-V" class="md-nav__link">
      8: RISC-V
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab09/" title="9: Codegen 1" class="md-nav__link">
      9: Codegen 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab10/" title="10: Codegen 2" class="md-nav__link">
      10: Codegen 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab11/" title="11: Optimizaciones" class="md-nav__link">
      11: Optimizaciones
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Proyectos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Proyectos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projs/proj00/" title="0: Instalacion" class="md-nav__link">
      0: Instalacion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projs/proj01/" title="1: Lexer" class="md-nav__link">
      1: Lexer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projs/proj02/" title="2: Parser" class="md-nav__link">
      2: Parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projs/proj03/" title="3: Semantic" class="md-nav__link">
      3: Semantic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projs/proj04/" title="4: Codegen" class="md-nav__link">
      4: Codegen
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduccion" title="1. Introducción" class="md-nav__link">
    1. Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-gramatica" title="2. Gramática" class="md-nav__link">
    2. Gramática
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-lexer" title="3. Lexer" class="md-nav__link">
    3. Lexer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-clase-token" title="3.1 Clase Token" class="md-nav__link">
    3.1 Clase Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-parser" title="4. Parser" class="md-nav__link">
    4. Parser
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-clase-parser" title="4.1 Clase Parser" class="md-nav__link">
    4.1 Clase Parser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-shunting-yard-algorithm" title="4.2 Shunting Yard Algorithm" class="md-nav__link">
    4.2 Shunting Yard Algorithm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-precedencia" title="4.3 Precedencia" class="md-nav__link">
    4.3 Precedencia
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cc-4/cc-4.github.io/edit/master/page/es/docs/labs/lab03.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lab-3-40rdp41">Lab 3 (RDP)<a class="headerlink" href="#lab-3-40rdp41" title="Permanent link">&para;</a></h1>
<p><img alt="" src="/img/rdp.gif" /></p>
<p>En este laboratorio aprenderán a implementar un Recursive Descent Parser para una gramática simple.</p>
<h2 id="1-introduccion">1. Introducción<a class="headerlink" href="#1-introduccion" title="Permanent link">&para;</a></h2>
<p>En las últimas clases ustedes vieron el tema de <strong>Recursive Descent Parsing (RDP para simplificar)</strong>, aprendieron que es un tipo de parser predictivo y que entra en la categoría de top-down parsing. También vieron de forma general un algoritmo para implementarlo y en este laboratorio lo pondremos en práctica.</p>
<p>Como el nombre sugiere, un <strong>Recursive Descent Parser</strong> usa funciones recursivas para implementar un parser predictivo. La idea central es que cada <strong>no terminal</strong> en la gramática es representado por una de esas funciones recursivas. Cada función entonces mira el siguiente <strong>token</strong> (1 token de lookahead) para poder escoger así, una de las producciones de algún <strong>no-terminal</strong>. De esta manera es como vamos analizando la entrada y construyendo nuestro árbol (si es que la entrada tiene una sintáxis correcta, de lo contrario desplegaríamos algún error).</p>
<p><strong>Recuerden que</strong>:</p>
<ol>
<li>Un analizador léxico (lexer) convierte texto (raw-text) en un stream de tokens.</li>
<li>Un analizador sintáctico (parser) convierte el stream de tokens en un AST.</li>
</ol>
<p>De forma gráfica esos 2 pasos los podemos ver asi:</p>
<p><img alt="" src="/img/lexerparser.png" /></p>
<p>En este laboratorio realizaremos <strong>una calculadora con un par de operaciones</strong> e iremos un paso más adelante al implementar un <strong>intérprete</strong>, es decir no crearemos un árbol sintáctico sino que evaluaremos en el momento las expresiones.</p>
<h2 id="2-gramatica">2. Gramática<a class="headerlink" href="#2-gramatica" title="Permanent link">&para;</a></h2>
<p>La gramática con la que trabajaremos es la siguiente:</p>
<div class="codehilite"><pre><span></span>S ::<span class="o">=</span> E<span class="p">;</span>
E ::<span class="o">=</span> E + E
  <span class="p">|</span>   E - E
  <span class="p">|</span>   E * E
  <span class="p">|</span>   E / E
  <span class="p">|</span>   E % E
  <span class="p">|</span>   E ^ E
  <span class="p">|</span>   - E
  <span class="p">|</span>   <span class="o">(</span>E<span class="o">)</span>
  <span class="p">|</span>   number

<span class="c1"># number en nuestro caso significara un double</span>
</pre></div>

<p>Esta gramática tiene un gran <strong>problema</strong> para nuestro RDP. Si se recuerdan por lo visto en clase, sufre de un problema llamado <strong>left-recursion</strong>. Una de las desventajas de este tipo de parsers es que las gramáticas con las que puede trabajar son aquellas que no son recursivas hacia la izquierda y claramente esta lo es, <code>E ::= E + E</code> por ejemplo. Así que lo que necesitamos hacer primero es transformar nuestra gramática para que no tenga este problema, teniendo en cuenta siempre que el lenguaje que describe nuestra nueva gramatica <strong>G1</strong> es el mismo que describe nuestra gramática <strong>G</strong> original, es decir:</p>
<p>$$L(G1) = L(G)$$</p>
<h2 id="3-lexer">3. Lexer<a class="headerlink" href="#3-lexer" title="Permanent link">&para;</a></h2>
<p>Para el primer ejercicio de este laboratorio, ustedes van a implementar el lexer para la gramática de nuestra calculadora utilizando <strong>JLex</strong>. El motivo principal de esto es para que sigan ganando práctica con esta herramienta, que surgan dudas y que los ayude a empezar/avanzar con el proyecto.</p>
<p>Para empezar clonen el siguiente repositorio de Github Classroom:</p>
<div class="codehilite"><pre><span></span>https://classroom.github.com/a/8E68G6Nz
</pre></div>

<p>Dentro del repositorio van a encontrar un archivo llamado <strong>lexer.lex</strong>, en ese archivo ustedes tienen que definir el lexer para la gramática. Dentro de ese archivo hay en forma de comentarios algunas instrucciones para guiarlos.</p>
<h3 id="31-clase-token">3.1 Clase Token<a class="headerlink" href="#31-clase-token" title="Permanent link">&para;</a></h3>
<p>En el directorio de trabajo hay una clase llamada <strong>Token</strong> que nos va a servir para representar los tokens de la gramática y es el tipo de objeto que tenemos que devolver dentro de las acciones del lexer. Esta clase tiene 2 constructores:</p>
<ol>
<li><strong>Token(int id, String val)</strong></li>
<li><strong>Token(int id)</strong></li>
</ol>
<p>Dentro de esta clase también están definidos los IDs que representan cada token y tienen que hacer uso de ellos cuando encuentren un token. En ese archivo también están definidos otros métodos que pueden ser útiles para la siguiente parte del laboratorio.</p>
<p><strong>Ejemplo:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">// Asi se veria en la parte de acciones del archivo .lex</span>
<span class="o">&lt;</span><span class="n">YYINITIAL</span><span class="o">&gt;{</span><span class="n">SEMI</span><span class="o">}</span>   <span class="o">{</span> <span class="k">return</span> <span class="k">new</span> <span class="n">Token</span><span class="o">(</span><span class="n">Token</span><span class="o">.</span><span class="na">SEMI</span><span class="o">);</span>             <span class="o">}</span>
<span class="o">&lt;</span><span class="n">YYINITIAL</span><span class="o">&gt;{</span><span class="n">NUMBER</span><span class="o">}</span> <span class="o">{</span> <span class="k">return</span> <span class="k">new</span> <span class="n">Token</span><span class="o">(</span><span class="n">Token</span><span class="o">.</span><span class="na">NUMBER</span><span class="o">,</span> <span class="n">yytext</span><span class="o">());</span> <span class="o">}</span>
</pre></div>

<p>Cuando tengan listo más de algo, pueden probar lo que hicieron utilizando el siguiente comando:</p>
<div class="codehilite"><pre><span></span>make lexer
./lexer <span class="s2">&quot;2 + 2;&quot;</span>
NUMBER : <span class="m">2</span>
+
NUMBER : <span class="m">2</span>
<span class="p">;</span>
</pre></div>

<p><strong>Aviso:</strong> En ocasiones el símbolo * puede dar problema al probar esta parte del lab. No se preocupe mucho por esto y siga trabajando las demás partes.</p>
<h2 id="4-parser">4. Parser<a class="headerlink" href="#4-parser" title="Permanent link">&para;</a></h2>
<p>Para el segundo ejercicio de este laboratorio ustedes implementarán un <strong>RDP</strong>. Esta gramática es bastante simple y prácticamente se trata solo de expresiones aritméticas. Parsear expresiones de este tipo con recursive descent tiene 2 problemas:</p>
<ol>
<li>Obtener un árbol sintáctico que siga la precedencia y la asociatividad de los operadores.</li>
<li>Hacerlo eficientemente cuando hay muchos niveles de precedencia.</li>
</ol>
<p>En clase ustedes vieron la clásica solución para el primer problema, que a pesar de que es bastante buena y elegante, no resuelve el segundo problema. En este laboratorio les vamos a enseñar una técnica llamada <strong>Shunting Yard Algorithm</strong> que es más eficiente y resuelve los dos problemas, la base de este algoritmo se encuentra hasta en las <strong>calculadoras chicleras</strong>.</p>
<h3 id="41-clase-parser">4.1 Clase Parser<a class="headerlink" href="#41-clase-parser" title="Permanent link">&para;</a></h3>
<p>En el directorio de trabajo van a encontrar un archivo llamado <strong>Parser.java</strong>, en este archivo es donde ustedes tienen que implementar el parser. Prácticamente lo que tienen que hacer es crear una plantilla con funciones recursivas de la gramatica que modificamos. Aquí hay unas funciones que les pueden ser útiles como <strong>term()</strong>.</p>
<p><strong>Ejemplo:</strong></p>
<p>Si nuestra gramática empieza de esta manera <code>S ::= E;</code> podriamos implementarlo de la siguiente manera.</p>
<div class="codehilite"><pre><span></span><span class="kt">boolean</span> <span class="nf">S</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">E</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">term</span><span class="o">(</span><span class="n">Token</span><span class="o">.</span><span class="na">SEMI</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">boolean</span> <span class="nf">E</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<h3 id="42-shunting-yard-algorithm">4.2 Shunting Yard Algorithm<a class="headerlink" href="#42-shunting-yard-algorithm" title="Permanent link">&para;</a></h3>
<p>La idea del algoritmo <strong>Shunting Yard</strong> es mantener los operadores en un stack hasta que todos los operandos han sido parseados. Los operandos se mantienen en un segundo stack. El algoritmo shunting yard puede utilizarse directamente para evaluar las expresiones mientras son parseadas (como un interprete, que es lo que vamos hacer).</p>
<p>La idea central del algoritmo es mantener los operadores en el stack ordenados por precedencia <strong>(la precedencia más baja en el fondo del stack y la más alta en el top del stack)</strong>, por lo menos en la ausencia de paréntesis. Antes de meter un operador en el stack de operadores, todos los operadores que tienen mayor precedencia son sacados del stack. Sacar un operador del stack de operadores consiste en remover el operador y sus operandos del stack de operandos, evaluar, y meter el resultado en el stack de operandos. Al final de una expresión los operadores que quedan son sacados y evaluados con sus respectivos operandos.</p>
<p>La siguiente tabla ilustra el proceso para un input : <strong>x * y + z.</strong> El stack se va llenando a la izquierda.</p>
<p><img alt="" src="/img/shuntingyard.png" /></p>
<ul>
<li><strong>push(a)</strong>    : hace push de a en el stack de operandos</li>
<li><strong>pushOp(op)</strong> : hace push de un operador en el stack de operadores</li>
<li><strong>pre(op)</strong>    : devuelve precedencia de un operador</li>
</ul>
<h3 id="43-precedencia">4.3 Precedencia<a class="headerlink" href="#43-precedencia" title="Permanent link">&para;</a></h3>
<p>Para nuestra gramática la precedencia es la siguiente de mayor a menor:</p>
<ol>
<li><strong>( )</strong></li>
<li><strong>- unario</strong></li>
<li><strong>^</strong></li>
<li><strong>* / %</strong></li>
<li><strong>+ -</strong></li>
</ol>
<p>Dentro del archivo que tienen que modificar, ustedes tienen que llenar con código donde hay comentarios que dicen <code>/*TODO CODIGO AQUI*/</code>.</p>
<p>Para probar su RDP tienen que hacer lo siguiente:</p>
<div class="codehilite"><pre><span></span>make parser
./parser
&gt;&gt;&gt; <span class="m">2</span> + <span class="m">2</span><span class="p">;</span>
<span class="m">4</span>.0
&gt;&gt;&gt;
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lab02/" title="2: jLex" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                2: jLex
              </span>
            </div>
          </a>
        
        
          <a href="../lab04/" title="4: cup" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                4: cup
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            CC-4
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/cc-4/" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../../js/latex.js"></script>
      
        <script src="../../js/python.js"></script>
      
    
    
      
    
  </body>
</html>